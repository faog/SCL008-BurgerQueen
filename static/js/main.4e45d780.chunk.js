(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{267:function(e,t,a){e.exports=a.p+"static/media/burger-queen.36691a42.png"},269:function(e,t,a){e.exports=a(559)},274:function(e,t,a){},297:function(e,t){},309:function(e,t){},311:function(e,t){},492:function(e,t){},527:function(e,t,a){},548:function(e,t,a){},549:function(e){e.exports={lunch:[{categoryName:"Hamburguesas",items:[{product:"Hamburguesa",types:["Pollo","Vacuno","Vegetariana"],size:[{product:"Simple",price:1500},{product:"Doble",price:3500}],toppings:[{product:"Huevo",price:500},{product:"Queso",price:500}]}]},{categoryName:"Acompa\xf1amientos",items:[{product:"Papas Fritas",price:500},{product:"Onion Rings",price:500}]},{categoryName:"Bebestibles",items:[{product:"Agua",size:[{product:"500 ml",price:500},{product:"750 ml",price:800}]},{product:"Gaseosa",size:[{product:"500 ml",price:700},{product:"750 ml",price:1e3}]}]}],breakfast:[{product:"Caf\xe9 americano",price:500},{product:"Caf\xe9 con leche",price:700},{product:"Sandwich jam\xf3n/queso",price:1e3},{product:"Jugo natural",price:700}]}},550:function(e,t,a){},551:function(e,t,a){},552:function(e,t,a){},553:function(e,t,a){},557:function(e,t,a){},558:function(e,t,a){},559:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),o=a.n(c),i=(a(274),a(30)),s=a(6),u=a(7),l=a(9),d=a(8),p=a(10),m=a(5),h=a(137),b=a(257),f=a.n(b),v=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleClick",value:function(){this.props.buttonOnClick()}},{key:"render",value:function(){return r.a.createElement("button",{type:"button",className:"btn btn-primary mb-2 ".concat(this.props.className),onClick:this.handleClick},this.props.name)}}]),t}(n.Component),y=a(46),O=a(32),g=a(258),E=a(259),k=Object(O.combineReducers)({orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_BILL":return Array.isArray(t.order)&&(t.order={product:t.order[0].product,size:t.order[1].product,price:t.order[1].price}),Object(y.a)({},e,{orders:e.orders.concat(t.order)});case"DELETE_TO_BILL":return Object(y.a)({},e,{orders:e.orders.filter(function(e,a){return t.index!==a})});case"CLEAN_TO_BILL":return Object(y.a)({},e,{orders:[]});default:return e}}}),j=Object(O.createStore)(k,{},Object(g.composeWithDevTools)(Object(O.applyMiddleware)(E.a))),N=function(e){return{type:"ADD_TO_BILL",order:e}},C=function(e){return function(t){e({type:"CLEAN_TO_BILL",order:t})}},w=a(562),S=a(563),P=a(264),T=a(265),B=(a(527),function(e){function t(e,a){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e,a))).handleShow=n.handleShow.bind(Object(m.a)(n)),n.handleClose=n.handleClose.bind(Object(m.a)(n)),n.handleAdd=n.handleAdd.bind(Object(m.a)(n)),n.setBurgerTopping=n.setBurgerTopping.bind(Object(m.a)(n)),n.setBurgerType=n.setBurgerType.bind(Object(m.a)(n)),n.state={show:!1,product:{}},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0,product:{}})}},{key:"handleAdd",value:function(){this.setState({show:!1}),this.state.product.product&&this.props.addProduct(this.state.product)}},{key:"setBurgerType",value:function(e){this.setState({product:{product:this.props.product,size:this.props.subproduct,topping:this.state.product.topping,type:e,price:this.props.price}})}},{key:"setBurgerTopping",value:function(e,t){this.setState({product:{product:this.props.product,size:this.props.subproduct,topping:e,type:this.state.product.type,price:this.props.price+t}})}},{key:"render",value:function(){var e=this;return r.a.createElement(w.a,{show:this.state.show,onHide:this.handleClose},r.a.createElement(w.a.Header,{closeButton:!0},r.a.createElement(w.a.Title,null,this.props.product," ",this.props.subproduct)),r.a.createElement(w.a.Body,{className:"modalbody"},r.a.createElement("div",{className:"row"},r.a.createElement("h5",null,"Tipos de"," ",this.props.product)),r.a.createElement(S.a,{className:"row",name:"typesgroup"},this.props.types.map(function(t){return r.a.createElement(P.a,{type:"radio",name:"typesradio",className:"burgertype m-1","data-cy":t,variant:"primary",value:t,key:t,onClick:function(a){return e.setBurgerType(t,a)}},t)})),r.a.createElement("div",{className:"row"},r.a.createElement("h5",null,"Agregados")),r.a.createElement("div",{className:"row m-1"},r.a.createElement(S.a,{className:"row",name:"toppingsgroup"},r.a.createElement(P.a,{type:"radio",name:"toppingsradio",className:"toppings m-1",variant:"primary",value:"",key:"notopping",defaultChecked:!0,onClick:function(t){return e.setBurgerTopping("",0,t)}},"Ninguno"),this.props.toppings.map(function(t){return r.a.createElement(P.a,{type:"radio",name:"toppingsradio",className:"toppings m-1","data-cy":"topping-".concat(t.product),variant:"primary",value:t.product,key:"".concat(e.props.product,"_").concat(t.product),onClick:function(a){return e.setBurgerTopping(t.product,t.price,a)}},t.product)})))),r.a.createElement(w.a.Footer,{className:"modalfooter"},r.a.createElement(T.a,{variant:"secondary","data-cy":"btn-cancelar",className:"btnfootermodal",onClick:this.handleClose},"Cancelar"),r.a.createElement(T.a,{variant:"primary","data-cy":"btn-agregar",className:"btnfootermodal",onClick:this.handleAdd},"Agregar")))}}]),t}(n.Component)),D=Object(i.b)(function(e){return{ordersFromStore:e.orders}},function(e){return{addProduct:function(t){return e(N(t))}}},null,{forwardRef:!0})(B),L=(a(548),a(549)),A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).breakfast=a.breakfast.bind(Object(m.a)(a)),a.lunch=a.lunch.bind(Object(m.a)(a)),a.addProduct=a.addProduct.bind(Object(m.a)(a)),a.state={},a.modalRef=r.a.createRef(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"addProduct",value:function(e){Array.isArray(e)&&e[0].types?(o.a.render(r.a.createElement(i.a,{store:j},r.a.createElement(D,{types:e[0].types,toppings:e[0].toppings,product:e[0].product,subproduct:e[1].product,price:e[1].price,ref:this.modalRef})),document.getElementById("modaldiv")),this.modalRef.current.handleShow()):this.props.addProduct(e)}},{key:"breakfast",value:function(){var e=this;this.setState(function(){return{buttons:L.breakfast.map(function(t){return r.a.createElement(v,{name:t.product,buttonOnClick:function(a){e.addProduct(t,a)},className:"breakfast",key:t.product})})}})}},{key:"lunch",value:function(){var e=this;this.setState(function(){return{buttons:L.lunch.map(function(t){return r.a.createElement("div",{key:t.categoryName},r.a.createElement("h6",null,t.categoryName),t.items.map(function(t,a){return t.size?r.a.createElement("div",{key:t.product},r.a.createElement("p",null,t.product),t.size.map(function(n,c){return r.a.createElement(v,{key:"".concat(a,"_").concat(c),name:n.product,className:"lunch m-1",buttonOnClick:function(a){e.addProduct([t,n],a)}})})):r.a.createElement(v,{key:a,name:t.product,className:"lunch m-1",buttonOnClick:function(a){e.addProduct(t,a)}})}))})}})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Ingrese la orden"),r.a.createElement(v,{name:"Desayuno",className:"btnbreakfast m-1","data-cy":"btn-breakfast",buttonOnClick:this.breakfast}),r.a.createElement(v,{name:"Almuerzo/Cena",className:"btnlunch-dinner m-1","data-cy":"btn-dinner",buttonOnClick:this.lunch}),r.a.createElement("div",{id:"menuoptions"},this.state.buttons))}}]),t}(n.Component),F=Object(i.b)(function(e){return Object(y.a)({},e)},function(e){return{addProduct:function(t){return e(N(t))}}})(A),z=a(561),x=a(560),I=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(z.a,null,r.a.createElement(z.a.Group,null,r.a.createElement(z.a.Label,null,this.props.message),r.a.createElement(z.a.Control,{onChange:function(t){return e.props.validate(t)},value:this.props.text}),""!==this.props.error?r.a.createElement(x.a,{variant:"warning"},this.props.error):""))}}]),t}(n.Component),_=(a(550),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={error:"Debe ingresar nombre del cliente",customerName:""},a.validateName=a.validateName.bind(Object(m.a)(a)),a.sendToKitchen=a.sendToKitchen.bind(Object(m.a)(a)),a.cleanProduct=a.cleanProduct.bind(Object(m.a)(a)),a.totalValueProducts=a.totalValueProducts.bind(Object(m.a)(a)),a.error="",a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"deleteProduct",value:function(e){this.props.deleteProduct(e)}},{key:"validateName",value:function(e){""===e.target.value?this.setState({error:"Debe ingresar nombre del cliente",customerName:e.target.value}):this.setState({error:"",customerName:e.target.value})}},{key:"cleanProduct",value:function(){this.props.cleanProduct(),this.setState({error:"Debe ingresar el nombre del cliente",customerName:""})}},{key:"sendToKitchen",value:function(){var e=this;0!==this.props.ordersFromStore.orders.length?""===this.state.error&&this.props.firebase.sendToKitchen(this.props.ordersFromStore.orders,this.state.customerName).then(function(){alert("Pedido enviado a la cocina"),e.cleanProduct()}).catch(function(e){alert("Error: ".concat(e))}):alert("No hay pedidos en la orden")}},{key:"totalValueProducts",value:function(){var e=0;return this.props.ordersFromStore.orders.forEach(function(t){e+=t.price}),e}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h5",null,"Resumen del Pedido"),r.a.createElement(I,{message:"Nombre:",validate:this.validateName,error:this.state.error,text:this.state.customerName}),this.props.ordersFromStore.orders.map(function(t,a){return r.a.createElement("div",{className:"productsorder row border",key:a},r.a.createElement("div",{className:"productorder col-md-10 align-middle mb-2"},t.product," ",t.size," ",t.type,t.topping&&""!==t.topping?" con ".concat(t.topping," "):" ","$",t.price),r.a.createElement(v,{className:"productdelete col-md-2",variant:"outline-danger",size:"sm",name:"X",key:"btn ".concat(a),buttonOnClick:function(t){e.deleteProduct(a,t)}}))})),r.a.createElement("p",{id:"totalprice"},"Total:$"," ",this.totalValueProducts()),r.a.createElement("div",{className:"btnkitchen row"},r.a.createElement(v,{className:"clean m-2",buttonOnClick:function(t){e.cleanProduct(t)},name:"Limpiar"}),r.a.createElement(v,{className:"send m-2",buttonOnClick:function(t){e.sendToKitchen(t)},name:"Enviar a Cocina"})))}}]),t}(n.Component)),K=Object(i.b)(function(e){return{ordersFromStore:e.orders}},function(e){return{deleteProduct:function(t){return e(function(e){return{type:"DELETE_TO_BILL",index:e}}(t))},sendToKitchen:C(e),cleanProduct:C(e)}})(_),R=(a(551),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("section",{className:"col-sm"},r.a.createElement(F,null)),r.a.createElement("section",{className:"col-sm"},r.a.createElement(K,{firebase:this.props.firebase})))}}]),t}(n.Component)),q=(a(552),function(e){function t(e,a){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).changeStateOrder=n.changeStateOrder.bind(Object(m.a)(n)),n.state={orders:[]},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"changeStateOrder",value:function(e){var t=this;console.log("Completando orden ".concat(e)),this.props.firebase.orderChangeState(e,this.props.newState).then(function(){t.props.firebase.getOrdersByState(t.props.state).then(function(e){t.setState({orders:e})})}).catch(function(e){console.log("error completando la orden: ".concat(e))})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.state.orders.map(function(t){return r.a.createElement("div",{className:"boxorder",key:t.id},r.a.createElement("div",{className:"boxelement"},r.a.createElement("div",{className:"row"},"Cliente:"," ",t.customername),r.a.createElement("div",{className:"row"},"Productos:"),t.order.map(function(e,t){return r.a.createElement("div",{className:"boxproduct",key:t},e.product," ",e.size," ",e.type," ",e.topping," ","$",e.price)}),r.a.createElement("div",{className:"row"},"Hora de ingreso:"," ",t.timeEnterOrder.toDate().toLocaleDateString()," ",t.timeEnterOrder.toDate().toLocaleTimeString())),r.a.createElement("div",{className:"boxbutton"},r.a.createElement(v,{name:e.props.buttonName,buttonOnClick:function(a){return e.changeStateOrder(t.id,e.props.state,a)},key:t.id,className:"btnstate"})))}))}},{key:"componentDidMount",value:function(){var e=this;this.props.firebase.getOrdersByState(this.props.state).then(function(t){e.setState({orders:t})})}}]),t}(n.Component)),H=(a(553),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Pedidos a realizar"),r.a.createElement(q,{buttonName:"Completar pedido",state:"Pendiente",newState:"Entregar",firebase:this.props.firebase}))}}]),t}(n.Component)),W=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Pedidos listos para entregar"),r.a.createElement(q,{buttonName:"Entregar pedido",state:"Entregar",newState:"Entregado",firebase:this.props.firebase}))}}]),t}(n.Component),V=r.a.createContext(null),$=a(142),J=a.n($),M=(a(554),{apiKey:"AIzaSyBDr79A7nPR2aeuHFselwbwxB4NYNsQIq0",authDomain:"burger-queen-24hrs.firebaseapp.com",databaseURL:"https://burger-queen-24hrs.firebaseio.com",projectId:"burger-queen-24hrs",storageBucket:"burger-queen-24hrs.appspot.com",messagingSenderId:"700510521328",appId:"1:700510521328:web:300ce1e0c6a2ee22"}),G=function e(){var t=this;Object(s.a)(this,e),this.sendToKitchen=function(e,a){var n={};return n.customername=a,n.order=e,n.timeEnterOrder=new Date(Date.now()),n.state="Pendiente",t.db.collection("kitchen").add(n)},this.getOrdersByState=function(e){return new Promise(function(a,n){t.db.collection("kitchen").where("state","==",e).orderBy("timeEnterOrder","desc").get().then(function(e){var t=[];e.forEach(function(e){var a=e.data();a.id=e.id,t.push(a)}),a(t)}).catch(function(e){n(e)})})},this.orderChangeState=function(e,a){return t.db.collection("kitchen").doc(e).update({state:a,timeCompleteOrder:new Date(Date.now())})},J.a.initializeApp(M),this.db=J.a.firestore()};a(557);Object(h.configure)({adapter:new f.a});var Q=function(e){function t(e,a){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e,a))).containerKitchen=n.containerKitchen.bind(Object(m.a)(n)),n.containerWaiter=n.containerWaiter.bind(Object(m.a)(n)),n.containerDelivery=n.containerDelivery.bind(Object(m.a)(n)),n.state={function:""},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"containerWaiter",value:function(){this.setState({function:"waiter"})}},{key:"containerKitchen",value:function(){this.setState({function:"kitchen"})}},{key:"containerDelivery",value:function(){this.setState({function:"delivery"})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"roleoption"},r.a.createElement(v,{name:"Mesero",className:"btnnavbar m-2","data-cy":"btn-waiter",buttonOnClick:this.containerWaiter}),r.a.createElement(v,{name:"Cocina",className:"btnnavbar m-2","data-cy":"btn-kitchen",buttonOnClick:this.containerKitchen}),r.a.createElement(v,{name:"Entrega",className:"btnnavbar m-2","data-cy":"btn-delivery",buttonOnClick:this.containerDelivery})),r.a.createElement("div",{id:"containerrole"},r.a.createElement(V.Consumer,null,function(t){return"kitchen"===e.state.function?r.a.createElement(H,{firebase:t}):"waiter"===e.state.function?r.a.createElement(R,{firebase:t}):"delivery"===e.state.function?r.a.createElement(W,{firebase:t}):void 0})))}}]),t}(n.Component),U=a(267),X=a.n(U),Y=(a(558),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light"},r.a.createElement("img",{src:X.a,alt:"Logo"}))),r.a.createElement(Q,null),r.a.createElement("div",{id:"modaldiv"}))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,{store:j},r.a.createElement(V.Provider,{value:new G},r.a.createElement(Y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[269,1,2]]]);
//# sourceMappingURL=main.4e45d780.chunk.js.map